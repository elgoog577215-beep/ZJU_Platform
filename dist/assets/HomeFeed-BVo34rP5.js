import{a as d,j as e,m as u,d as L,A as _}from"./react-vendor-CXoD4tGQ.js";import{L as T}from"./Image3DViewer-CJZlIX7C.js";import{u as R}from"./utils-Cv9gmu_1.js";import{u as v,b as H,F as B,f as O,H as X,E as k}from"./index-D24czYHj.js";import{S as b}from"./SmartImage-NGZcafy_.js";import{M as U,T as W,V as Y,Y as V,_ as q,a6 as G,a7 as J,a as K,X as Q,d as P,A as F,F as Z,a8 as ee}from"./ui-vendor-ChojsKpE.js";import"./three-vendor-CkDWRuyZ.js";const E=t=>{const i=Math.floor(t/60),s=Math.floor(t%60);return`${i}:${s<10?"0":""}${s}`},te=({tracks:t=[]})=>{const{t:i}=v(),{currentTrack:s,isPlaying:a,playTrack:j,togglePlay:c,nextTrack:m,prevTrack:h,audioRef:r}=H(),[w,N]=d.useState(0),[z,y]=d.useState(.5),[S,p]=d.useState(!1),[C,f]=d.useState(1),o=[.5,.75,1,1.25,1.5,2];d.useEffect(()=>{const l=r.current,n=()=>N(l.currentTime);return l.addEventListener("timeupdate",n),N(l.currentTime),y(l.volume),p(l.muted),()=>{l.removeEventListener("timeupdate",n)}},[r,s]);const M=l=>{const n=parseFloat(l.target.value);r.current.currentTime=n,N(n)},D=l=>{const n=parseFloat(l.target.value);y(n),r.current.volume=n,p(n===0)},A=()=>{S?(r.current.volume=z,p(!1)):(r.current.volume=0,p(!0))},$=()=>{const n=(o.indexOf(C)+1)%o.length,I=o[n];f(I),r.current.playbackRate=I};d.useEffect(()=>{f(1),r.current&&(r.current.playbackRate=1)},[s]);const x=s||(t.length>0?t[0]:{title:i("music.select_track_title","Select a track"),artist:i("music.select_track_artist","to start listening"),duration:0,cover:"https://via.placeholder.com/300"});return e.jsxs("div",{className:"h-full flex flex-col bg-[#0a0a0a]/50 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 relative overflow-hidden flex-shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-3xl z-0",style:{backgroundImage:`url(${x.cover})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-cyan-500/20 rounded-lg text-cyan-400",children:e.jsx(U,{size:16})}),e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:i("home.now_playing")})]}),x&&x.id&&e.jsx(B,{itemId:x.id,itemType:"music",size:16,showCount:!1,className:"p-1.5 hover:bg-white/10 rounded-full transition-colors"})]}),e.jsxs(u.div,{animate:{rotate:a?360:0},transition:{duration:3,repeat:1/0,ease:"linear",paused:!a},className:"relative w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white/10 shadow-2xl overflow-hidden mb-6",children:[e.jsx(b,{src:x.cover,alt:x.title,type:"music",className:"w-full h-full",iconSize:32}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-4 h-4 bg-black rounded-full border-2 border-white/20"})})]}),e.jsxs("div",{className:"text-center mb-4 w-full",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1 truncate",children:x.title}),e.jsx("p",{className:"text-cyan-400 text-sm truncate",children:x.artist})]}),e.jsxs("div",{className:"w-full mb-4",children:[e.jsx("input",{type:"range",min:"0",max:x.duration||100,value:w,onChange:M,className:"w-full h-1 bg-white/10 rounded-full appearance-none cursor-pointer accent-cyan-400 hover:accent-cyan-300"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-mono mt-1",children:[e.jsx("span",{children:E(w)}),e.jsx("span",{children:E(x.duration)})]})]}),e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(W,{size:24})}),e.jsx("button",{onClick:()=>{s?c():t.length>0&&j(t[0],t)},className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-600 text-white rounded-full flex items-center justify-center hover:scale-105 active:scale-95 transition-all shadow-lg shadow-cyan-500/30",children:a?e.jsx(Y,{size:20,fill:"currentColor"}):e.jsx(V,{size:20,fill:"currentColor",className:"ml-1"})}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(q,{size:24})})]}),e.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[e.jsxs("button",{onClick:$,className:"text-[10px] font-bold text-cyan-400 bg-cyan-500/10 px-2 py-1 rounded border border-cyan-500/20 hover:bg-cyan-500/20",children:[C,"x"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:A,className:"text-gray-400 hover:text-white",children:S?e.jsx(G,{size:16}):e.jsx(J,{size:16})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:z,onChange:D,className:"w-16 h-1 bg-white/10 rounded-full accent-gray-400"})]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-black/20 border-t border-white/10",children:e.jsx("div",{className:"p-2 space-y-1",children:t.map((l,n)=>e.jsxs("div",{onClick:()=>j(l,t),className:`p-2 rounded-lg flex items-center gap-3 cursor-pointer transition-all border border-transparent
                        ${(s==null?void 0:s.id)===l.id?"bg-white/10 border-white/10":"hover:bg-white/5"}`,children:[e.jsx("span",{className:"text-[10px] font-mono text-gray-500 w-4",children:n+1}),e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden flex-shrink-0",children:e.jsx(b,{src:l.cover,alt:"cover",type:"music",className:"w-full h-full",iconSize:16})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:`text-xs font-bold truncate ${(s==null?void 0:s.id)===l.id?"text-cyan-400":"text-white"}`,children:l.title}),e.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:l.artist})]}),(s==null?void 0:s.id)===l.id&&a&&e.jsxs("div",{className:"flex gap-0.5 items-end h-3",children:[e.jsx("div",{className:"w-0.5 bg-cyan-400 animate-[music-bar_0.5s_infinite] h-full"}),e.jsx("div",{className:"w-0.5 bg-cyan-400 animate-[music-bar_0.7s_infinite] h-2/3"}),e.jsx("div",{className:"w-0.5 bg-cyan-400 animate-[music-bar_0.4s_infinite] h-1/2"})]})]},l.id))})})]})},g=t=>t&&(t.includes("images.unsplash.com")?t.replace("w=800","w=1600"):t),se=({event:t,onClick:i})=>{const{t:s}=v();return e.jsxs("div",{onClick:()=>i(t),className:"relative w-full h-full rounded-3xl overflow-hidden cursor-pointer group border border-white/10 bg-black",children:[e.jsx(b,{src:g(t.image),alt:t.title,type:"event",className:"w-full h-full",imageClassName:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity duration-500",iconSize:64}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute top-6 left-6 flex flex-col items-center bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-3 shadow-lg group-hover:bg-white/20 transition-colors",children:[e.jsx("span",{className:"text-xs font-bold text-red-400 uppercase tracking-wider",children:new Date(t.date).toLocaleString("default",{month:"short"})}),e.jsx("span",{className:"text-2xl font-bold text-white font-serif",children:new Date(t.date).getDate()})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-red-500/20 rounded-lg text-red-400 backdrop-blur-sm",children:e.jsx(P,{size:16})}),e.jsx("span",{className:"text-sm font-bold text-red-400 uppercase tracking-widest",children:s("home.featured_event")})]}),e.jsx("h3",{className:"text-4xl font-bold text-white font-serif leading-tight mb-2",children:t.title}),e.jsxs("p",{className:"text-gray-300 max-w-lg line-clamp-2",children:[t.location," â€¢ ",s("common.view_details")]})]})]})},ae=({photos:t,onSelect:i})=>{const{t:s}=v(),[a,j]=d.useState(0);d.useEffect(()=>{if(t.length<=1)return;const m=setInterval(()=>{j(h=>(h+1)%t.length)},4e3);return()=>clearInterval(m)},[t.length]);const c=t[a];return c?e.jsx("div",{className:"h-full flex flex-col",children:e.jsxs("div",{onClick:()=>i(c),className:"relative flex-1 rounded-3xl overflow-hidden cursor-pointer group border border-white/10",children:[e.jsx(_,{mode:"wait",children:e.jsx(u.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.8},className:"absolute inset-0 w-full h-full",children:e.jsx(b,{src:g(c.url),alt:c.title,type:"image",className:"w-full h-full",imageClassName:"w-full h-full object-cover",iconSize:48})},c.id)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/60 opacity-60 group-hover:opacity-80 transition-opacity"}),e.jsx("div",{className:"absolute top-3 right-3 bg-black/30 backdrop-blur-md p-2 rounded-full border border-white/20 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0 z-10",children:e.jsx(ee,{size:14,className:"text-white"})}),e.jsxs("div",{className:"absolute bottom-4 left-4 z-10",children:[e.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase tracking-wider mb-1",children:s(`gallery.categories.${c.category}`)}),e.jsx("h4",{className:"text-white font-bold leading-tight",children:c.title})]}),e.jsx("div",{className:"absolute bottom-4 right-4 flex gap-1 z-10",children:t.map((m,h)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${h===a?"bg-white w-3":"bg-white/30"}`},h))})]},c.id)}):null},le=({videos:t,onSelect:i})=>{const{t:s}=v();if(!t||t.length===0)return null;const a=t[0];return e.jsxs("div",{onClick:()=>i(a),className:"relative w-full h-full rounded-3xl overflow-hidden cursor-pointer group border border-white/10 bg-black",children:[e.jsx(b,{src:g(a.thumbnail||a.cover),alt:a.title,type:"video",className:"w-full h-full",imageClassName:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity duration-500",iconSize:48}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20 group-hover:scale-110 transition-transform duration-300",children:e.jsx(V,{size:24,fill:"currentColor",className:"text-white ml-1"})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-purple-500/20 rounded-lg text-purple-400 backdrop-blur-sm",children:e.jsx(Z,{size:16})}),e.jsx("span",{className:"text-xs font-bold text-purple-400 uppercase tracking-widest",children:s("nav.videos")})]}),e.jsx("h3",{className:"text-xl font-bold text-white font-serif leading-tight line-clamp-2",children:a.title})]})]})},ie=({events:t,onSelect:i})=>{const{t:s}=v();return e.jsx("div",{className:"h-full overflow-y-auto pr-1 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/20",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pb-2",children:t.map(a=>e.jsxs("div",{onClick:()=>i(a),className:"bg-[#0a0a0a]/80 border border-white/10 rounded-3xl p-6 hover:border-red-500/30 transition-all cursor-pointer group flex flex-col justify-between relative overflow-hidden min-h-[180px]",children:[a.image&&e.jsxs(e.Fragment,{children:[e.jsx(b,{src:g(a.image),alt:a.title,type:"event",className:"absolute inset-0 w-full h-full",imageClassName:"absolute inset-0 w-full h-full object-cover opacity-20 group-hover:opacity-30 transition-opacity duration-500",iconSize:32}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a]/80 to-transparent"})]}),e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-red-500/10 blur-3xl rounded-full -translate-y-1/2 translate-x-1/2 group-hover:bg-red-500/20 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(P,{size:16,className:"text-red-400"}),e.jsx("span",{className:"text-xs font-bold text-red-400 uppercase tracking-wider",children:a.date})]}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 leading-tight group-hover:text-red-400 transition-colors line-clamp-2",children:a.title}),e.jsx("p",{className:"text-sm text-gray-400 line-clamp-3 leading-relaxed",children:a.description})]}),e.jsxs("div",{className:"relative z-10 flex items-center gap-2 text-xs font-bold text-white mt-4 opacity-50 group-hover:opacity-100 transition-opacity",children:[s("common.view_details")," ",e.jsx(F,{size:12})]})]},a.id))})})},he=()=>{const[t,i]=d.useState(null),[s,a]=d.useState(null),[j,c]=d.useState(null),{t:m}=v(),h=L(),{data:r,error:w}=R("/featured",O);if(w&&console.error("Failed to fetch featured content:",w),!r)return e.jsx("div",{className:"w-full min-h-screen flex items-center justify-center bg-black",children:e.jsx(K,{className:"animate-spin text-white",size:48})});const N=r.photos.slice(0,10),z=r.music,y=r.events[0],S=r.videos,p=r.articles.slice(0,6).map(o=>({...o,image:o.cover,date:new Date(o.created_at||Date.now()).toLocaleDateString(),description:o.excerpt})),C={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},f={hidden:{y:50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",stiffness:50,damping:20}}};return e.jsxs("section",{className:"relative w-full min-h-screen lg:h-screen lg:overflow-hidden pt-20 pb-4 px-4 md:px-8 flex flex-col",children:[e.jsxs(X,{children:[e.jsxs("title",{children:[m("home.meta_title")," | 777"]}),e.jsx("meta",{name:"description",content:m("home.meta_desc")})]}),e.jsxs(u.div,{variants:C,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.1},className:"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-4 h-auto lg:h-[calc(100vh-6rem)] max-w-[1920px] mx-auto w-full pb-4 lg:pb-0",children:[e.jsx(u.div,{variants:f,className:"lg:col-span-3 h-[500px] lg:h-full overflow-hidden",children:e.jsx("div",{className:"h-full flex flex-col gap-4",children:e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e.jsx(k,{variant:"inline",silent:!0,children:e.jsx(te,{tracks:z})})})})}),e.jsxs("div",{className:"lg:col-span-6 h-full flex flex-col gap-4 overflow-hidden",children:[e.jsx(u.div,{variants:f,className:"flex-1 min-h-[300px] lg:min-h-0 overflow-hidden",children:e.jsx(k,{variant:"inline",silent:!0,children:y&&e.jsx(se,{event:y,onClick:a})})}),e.jsx(u.div,{variants:f,className:"flex-1 min-h-[300px] lg:min-h-0 overflow-hidden",children:e.jsx(k,{variant:"inline",silent:!0,children:e.jsx(le,{videos:S,onSelect:o=>h("/videos")})})})]}),e.jsx(u.div,{variants:f,className:"lg:col-span-3 h-[600px] lg:h-full overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col gap-4",children:[e.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"mb-2 flex items-center justify-between",children:e.jsx("h3",{className:"text-lg font-bold text-white uppercase tracking-wider",children:m("home.selected_works")})}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e.jsx(k,{variant:"inline",silent:!0,children:e.jsx(ae,{photos:N,onSelect:i})})})]}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e.jsx(k,{variant:"inline",silent:!0,children:e.jsx(ie,{events:p,onSelect:o=>h("/articles")})})})]})})]}),e.jsx(_,{children:t&&e.jsx(T,{photo:{...t,url:g(t.url)},onClose:()=>i(null)})}),e.jsx(_,{children:s&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4 overflow-y-auto",onClick:()=>a(null),children:e.jsxs(u.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-[#0a0a0a] max-w-3xl w-full rounded-3xl border border-white/10 overflow-hidden shadow-2xl my-8",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"h-64 bg-gradient-to-br from-red-900/40 to-black relative p-8 flex flex-col justify-end bg-cover bg-center",style:s.image?{backgroundImage:`url(${g(s.image)})`}:{},children:[s.image&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),e.jsx("button",{onClick:()=>a(null),className:"absolute top-6 right-6 p-2 bg-black/50 text-white rounded-full hover:bg-white/20 z-10",children:e.jsx(Q,{size:24})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(P,{size:16,className:"text-red-400"}),e.jsx("span",{className:"text-red-400 font-bold uppercase tracking-wider text-xs",children:s.date})]}),e.jsx("h2",{className:"text-4xl font-bold font-serif text-white",children:s.title}),e.jsxs("p",{className:"text-gray-300 mt-2 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," ",s.location]})]})]}),e.jsxs("div",{className:"p-8 md:p-12",children:[e.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:s.content||s.description}}),s.link&&e.jsx("div",{className:"mt-8 pt-8 border-t border-white/10",children:e.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-xl transition-colors",children:[m("common.view_details")," ",e.jsx(F,{size:18})]})})]})]})})})]})};export{he as default};
